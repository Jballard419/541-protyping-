\hypertarget{group___doc_black_key}{}\section{Black Key}
\label{group___doc_black_key}\index{Black Key@{Black Key}}


A script for handling the behavior of a black key on the keyboard.  


\subsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___black_key_event_types}{Event Types}
\item 
\hyperlink{group___black_key_events}{Events}
\item 
\hyperlink{group___black_key_priv_var}{Private Variables}
\item 
\hyperlink{group___black_key_pub_func}{Public Functions}
\item 
\hyperlink{group___black_key_pub_var}{Public Variables}
\item 
\hyperlink{group___black_key_unity}{Unity Functions}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A script for handling the behavior of a black key on the keyboard. 

\hypertarget{group___doc_black_key_DocBlackKeyInfo}{}\subsection{Information}\label{group___doc_black_key_DocBlackKeyInfo}
This class defines the behavior for a Unity Game\+Object that represents a black key on the keyboard.\hypertarget{group___doc_black_key_DocBlackKeyEventTypes}{}\subsection{Event Types}\label{group___doc_black_key_DocBlackKeyEventTypes}
The types of events for the \hyperlink{group___doc_black_key}{black keys}. ~\newline
 \hyperlink{group___black_key_event_types}{More details}.\hypertarget{group___doc_black_key_DocBlackKeyEvents}{}\subsection{Events}\label{group___doc_black_key_DocBlackKeyEvents}
Events used by the \hyperlink{group___doc_black_key}{black keys} ~\newline
 \hyperlink{group___black_key_events}{More details}.\hypertarget{group___doc_black_key_DocBlackKeyPubVar}{}\subsection{Public Variables}\label{group___doc_black_key_DocBlackKeyPubVar}
Variables to set attributes of a \hyperlink{class_black_key}{Black\+Key} in the Unity Editor. ~\newline
 \hyperlink{group___black_key_pub_var}{More details}.\hypertarget{group___doc_black_key_DocBlackKeyPrivVar}{}\subsection{Private Variables}\label{group___doc_black_key_DocBlackKeyPrivVar}
Variables used internally by the \hyperlink{class_black_key}{Black\+Key} ~\newline
 \hyperlink{group___black_key_priv_var}{More details}.\hypertarget{group___doc_black_key_DocBlackKeyUnity}{}\subsection{Unity Functions}\label{group___doc_black_key_DocBlackKeyUnity}
Built-\/in Unity functions for creating and updating the \hyperlink{class_black_key}{Black\+Key}. ~\newline
 \hyperlink{group___black_key_unity}{More details}.\hypertarget{group___doc_black_key_DocBlackKeyPubFunc}{}\subsection{Private Functions}\label{group___doc_black_key_DocBlackKeyPubFunc}
Functions for other classes to configure the \hyperlink{class_black_key}{Black\+Key}. ~\newline
 \hyperlink{group___black_key_pub_func}{More details}.\hypertarget{group___doc_black_key_DocBlackKeyCode}{}\subsection{Code}\label{group___doc_black_key_DocBlackKeyCode}

\begin{DoxyCodeInclude}
1 \textcolor{keyword}{using} \hyperlink{namespace_system}{System}.Collections;
2 \textcolor{keyword}{using} \hyperlink{namespace_system}{System}.Collections.Generic;
3 \textcolor{keyword}{using} \hyperlink{namespace_unity_engine}{UnityEngine};
4 \textcolor{keyword}{using} \hyperlink{namespace_unity_engine}{UnityEngine}.Events;
5 \textcolor{comment}{}
6 \textcolor{comment}{/** }
7 \textcolor{comment}{ * @class BlackKey}
8 \textcolor{comment}{ * @brief A script for handling the behavior of a black key on the keyboard.}
9 \textcolor{comment}{ *  }
10 \textcolor{comment}{ * This class defines the behavior for a Unity GameObject that represents}
11 \textcolor{comment}{ * a black key on the keyboard.}
12 \textcolor{comment}{*/}
13 
14 \textcolor{keyword}{public} \textcolor{keyword}{class }\hyperlink{class_black_key}{BlackKey} : MonoBehaviour
15 \{
16     \textcolor{comment}{/*************************************************************************/}\textcolor{comment}{/** }
17 \textcolor{comment}{     * @\}}
18 \textcolor{comment}{     * @defgroup BlackKeyEventTypes Event Types}
19 \textcolor{comment}{     * @ingroup DocBlackKey}
20 \textcolor{comment}{     * The types of events for the @link DocBlackKey black keys@endlink.}
21 \textcolor{comment}{     * @\{}
22 \textcolor{comment}{    ****************************************************************************/}
23     \textcolor{keyword}{public} \textcolor{keyword}{class }BlackKeyPressedEvent : UnityEvent<BlackKey> \{ \} \textcolor{comment}{//!< Used for testing the container. Will
       probably need to change later.}
24 \textcolor{comment}{}    \textcolor{keyword}{public} \textcolor{keyword}{class }BlackKeyReleasedEvent : UnityEvent<BlackKey> \{ \} \textcolor{comment}{//!< Used for testing the container. Will
       probably need to change later.}
25 \textcolor{comment}{}
26     \textcolor{comment}{/*************************************************************************/}\textcolor{comment}{/** }
27 \textcolor{comment}{     * @\}}
28 \textcolor{comment}{     * @defgroup BlackKeyEvents Events}
29 \textcolor{comment}{     * @ingroup DocBlackKey}
30 \textcolor{comment}{     * Events used by the @link DocBlackKey black keys@endlink}
31 \textcolor{comment}{     * @\{}
32 \textcolor{comment}{    ****************************************************************************/}
33     \textcolor{keyword}{public} BlackKeyPressedEvent BlackKeyPressed = null; \textcolor{comment}{//!< Used for testing the container. Will probably
       need to change later.}
34 \textcolor{comment}{}    \textcolor{keyword}{public} BlackKeyReleasedEvent BlackKeyReleased = null; \textcolor{comment}{//!< Used for testing the container. Will
       probably need to change later.}
35 \textcolor{comment}{}
36     \textcolor{comment}{/*************************************************************************/}\textcolor{comment}{/** }
37 \textcolor{comment}{     * @\}}
38 \textcolor{comment}{     * @defgroup BlackKeyPubVar Public Variables}
39 \textcolor{comment}{     * @ingroup DocBlackKey}
40 \textcolor{comment}{     * Variables to set attributes of a BlackKey in the Unity Editor.}
41 \textcolor{comment}{     * @\{}
42 \textcolor{comment}{    ****************************************************************************/}
43     \textcolor{keyword}{public} \textcolor{keywordtype}{float} \hyperlink{group___black_key_pub_var_ga6fb983b09b3b6f80eab375fcb43010c1}{Velocity}; \textcolor{comment}{//!< The velocity of the key object.}
44 \textcolor{comment}{}    \textcolor{keyword}{public} \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH} \hyperlink{group___black_key_pub_var_gad233c456182c9cef7c01486484940439}{Pitch} = \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.CS4; \textcolor{comment}{//!< The pitch that this key
       represents.}
45 \textcolor{comment}{}
46     \textcolor{comment}{// I put a default value since it'll mess up the dynamic loading otherwise.}
47     \textcolor{keyword}{public} \textcolor{keywordtype}{string} Key = \textcolor{stringliteral}{"A"}; \textcolor{comment}{//!< The key that begins pressing the black key. }
48 \textcolor{comment}{}
49     \textcolor{comment}{/*************************************************************************/}\textcolor{comment}{/** }
50 \textcolor{comment}{     * @\}}
51 \textcolor{comment}{     * @defgroup BlackKeyPrivVar Private Variables}
52 \textcolor{comment}{     * @ingroup DocBlackKey}
53 \textcolor{comment}{     * Variables used internally by the BlackKey}
54 \textcolor{comment}{     * @\{}
55 \textcolor{comment}{     ****************************************************************************/}
56     \textcolor{keyword}{private} \textcolor{keywordtype}{bool} mKeyPressed = \textcolor{keyword}{false}; \textcolor{comment}{//!< Has the note started?}
57 \textcolor{comment}{}    \textcolor{keyword}{private} KeyCode \hyperlink{group___black_key_priv_var_ga2272fa345880793dcd89f7ca942f6685}{mKeyCode}; \textcolor{comment}{//!< The keycode to check for when testing physics.}
58 \textcolor{comment}{}    \textcolor{keyword}{private} \hyperlink{class_key_container}{KeyContainer} mContainer = null; \textcolor{comment}{//!< The parent @link DocKeyContain
       container@endlink.}
59 \textcolor{comment}{}    \textcolor{keyword}{private} Rigidbody \hyperlink{group___black_key_priv_var_ga5185c6ea66892bcbe9e83eb615f39566}{mRigidBody}; \textcolor{comment}{//!< The rigidbody representing the key.}
60 \textcolor{comment}{}
61     \textcolor{comment}{/*************************************************************************/}\textcolor{comment}{/** }
62 \textcolor{comment}{     * @\}}
63 \textcolor{comment}{     * @defgroup BlackKeyUnity Unity Functions}
64 \textcolor{comment}{     * @ingroup DocBlackKey}
65 \textcolor{comment}{     * Built-in Unity functions for creating and updating the BlackKey.}
66 \textcolor{comment}{     * @\{}
67 \textcolor{comment}{     ****************************************************************************/}
68 \textcolor{comment}{}
69 \textcolor{comment}{    /**}
70 \textcolor{comment}{     * @brief Called when object is initialized.}
71 \textcolor{comment}{     * }
72 \textcolor{comment}{     * Sets the key that is used to simulate pressing the object and gets the RigidBody}
73 \textcolor{comment}{     * and sets that it shouldn't use gravity.}
74 \textcolor{comment}{     */}
75     \textcolor{keywordtype}{void} \hyperlink{group___black_key_unity_ga6e05fcdf362e52d9a71b4f25ad840b5b}{Awake}()
76     \{
77         mKeyCode = (KeyCode)\hyperlink{namespace_system}{System}.Enum.Parse( typeof( KeyCode ), Key );
78         mRigidBody = GetComponent<Rigidbody>();
79         mRigidBody.useGravity = \textcolor{keyword}{false};
80         BlackKeyPressed = \textcolor{keyword}{new} BlackKeyPressedEvent();
81         BlackKeyReleased = \textcolor{keyword}{new} BlackKeyReleasedEvent();
82     \}
83 \textcolor{comment}{}
84 \textcolor{comment}{    /**}
85 \textcolor{comment}{     * @brief Called every frame. Used for loading the VirtualInstrumentManager.}
86 \textcolor{comment}{     * }
87 \textcolor{comment}{     * Checks if audio should be loaded/unloaded and handles the asynchronous scene}
88 \textcolor{comment}{     * operation that does so.}
89 \textcolor{comment}{     */}
90     \textcolor{keywordtype}{void} \hyperlink{group___black_key_unity_ga24ef6b8b614685c5591868b9b23197ed}{Update}()
91     \{
92     \}
93 \textcolor{comment}{}
94 \textcolor{comment}{    /**}
95 \textcolor{comment}{     * @brief Called every physics step. Used for applying force to the RigidBody.}
96 \textcolor{comment}{     * }
97 \textcolor{comment}{     * Checks if the appropriate key was pressed and applies a force if so.}
98 \textcolor{comment}{     * It also calls the functions that send input to the VirtualInstrumentManager if}
99 \textcolor{comment}{     * needed.}
100 \textcolor{comment}{     */}
101     \textcolor{keywordtype}{void} \hyperlink{group___black_key_unity_gad8926397bba69558f5440eac2c38aff8}{FixedUpdate}()
102     \{
103         \textcolor{comment}{//float move = Input.GetAxis ("Horizontal");}
104         Vector3 movement = \textcolor{keyword}{new} Vector3( 0, -1f, 0 );
105         \textcolor{keywordflow}{if}( Input.GetKey( mKeyCode ) )
106         \{
107             \textcolor{comment}{//Debug.Log( Key );}
108             mRigidBody.AddForce( movement );
109 
110             \textcolor{comment}{// Let others know that this key was pressed.}
111             \textcolor{keywordflow}{if}( !mKeyPressed )
112             \{
113                 Debug.Log( \textcolor{stringliteral}{"Key representing "} + \hyperlink{class_music}{Music}.\hyperlink{group___music_stat_func_ga85a22c905d56d4c5f4e62159bfecee8c}{NoteToString}( 
      \hyperlink{group___black_key_pub_var_gad233c456182c9cef7c01486484940439}{Pitch} ) + \textcolor{stringliteral}{" was pressed."} );
114                 mKeyPressed = \textcolor{keyword}{true};
115                 BlackKeyPressed.Invoke( \textcolor{keyword}{this} );
116             \}
117 
118         \}
119         \textcolor{keywordflow}{else}
120         \{
121             \textcolor{comment}{// If the key is released, then let others know.}
122             \textcolor{keywordflow}{if}( mKeyPressed )
123             \{
124                 Debug.Log( \textcolor{stringliteral}{"Key representing "} + \hyperlink{class_music}{Music}.\hyperlink{group___music_stat_func_ga85a22c905d56d4c5f4e62159bfecee8c}{NoteToString}( 
      \hyperlink{group___black_key_pub_var_gad233c456182c9cef7c01486484940439}{Pitch} ) + \textcolor{stringliteral}{" was released."} );
125                 mKeyPressed = \textcolor{keyword}{false};
126                 BlackKeyReleased.Invoke( \textcolor{keyword}{this} );
127             \}
128         \}
129     \}
130 
131     \textcolor{comment}{/*************************************************************************/}\textcolor{comment}{/** }
132 \textcolor{comment}{     * @\}}
133 \textcolor{comment}{     * @defgroup BlackKeyPubFunc Public Functions}
134 \textcolor{comment}{     * @ingroup DocBlackKey}
135 \textcolor{comment}{     * Functions for other classes to configure the BlackKey.}
136 \textcolor{comment}{     * @\{}
137 \textcolor{comment}{    *****************************************************************************/}
138 \textcolor{comment}{}
139 \textcolor{comment}{    /**}
140 \textcolor{comment}{     * @brief Sets the @link DocKeyContain parent container@endlink.}
141 \textcolor{comment}{     * @param[in] aContainer The parent container.}
142 \textcolor{comment}{    */}
143     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{group___black_key_pub_func_ga49d807a46e36ba19211be329db1cbd2e}{SetParentContainer}( \hyperlink{class_key_container}{KeyContainer} aContainer )
144     \{
145         mContainer = aContainer;
146     \}
147 \textcolor{comment}{}
148 \textcolor{comment}{    /** @\} */}
149 \}
150 
151 
\end{DoxyCodeInclude}
 