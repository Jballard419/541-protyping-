\hypertarget{group___song_pub_func}{}\section{Public Functions}
\label{group___song_pub_func}\index{Public Functions@{Public Functions}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group___song_pub_func_gab7c8fe4dc29f5ae7b7728c583fe51f7e}{Song.\+Add\+Note} (\hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note} a\+New\+Note)
\begin{DoxyCompactList}\small\item\em Adds a \hyperlink{group___music_structs_struct_music_1_1_combined_note}{note} to the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
int \hyperlink{group___song_pub_func_gaaaf3d27d474713d7d368e3fd4c570be0}{Song.\+Get\+B\+PM} ()
\begin{DoxyCompactList}\small\item\em Gets the B\+PM of the song. \end{DoxyCompactList}\item 
\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{Music.\+P\+I\+T\+CH} \hyperlink{group___song_pub_func_gafaa104e8653edf64148260ecd400570f}{Song.\+Get\+Highest\+Pitch} ()
\begin{DoxyCompactList}\small\item\em Gets the highest pitch in the song. \end{DoxyCompactList}\item 
\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{Music.\+P\+I\+T\+CH} \hyperlink{group___song_pub_func_gae4e71c8eb059cc9cf0b77e78971ab326}{Song.\+Get\+Lowest\+Pitch} ()
\begin{DoxyCompactList}\small\item\em Gets the lowest pitch in the song. \end{DoxyCompactList}\item 
string \hyperlink{group___song_pub_func_ga705c433f2bfb5aede337698144b23c8b}{Song.\+Get\+Name} ()
\begin{DoxyCompactList}\small\item\em Gets the name of the song. \end{DoxyCompactList}\item 
\hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note} \hyperlink{group___song_pub_func_ga485c83c9278103fed23c532bba1252f0}{Song.\+Get\+Note} (int a\+Index)
\begin{DoxyCompactList}\small\item\em Gets a \hyperlink{group___music_structs_struct_music_1_1_combined_note}{note} in the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
\hyperlink{group___song_structs_struct_song_1_1_combined_note_data}{Combined\+Note\+Data} \mbox{[}$\,$\mbox{]} \hyperlink{group___song_pub_func_gae3df1fd5448b7d9cefb0fed4af967985}{Song.\+Get\+Note\+Data} ()
\begin{DoxyCompactList}\small\item\em Converts the \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the song to Note\+Data. \end{DoxyCompactList}\item 
List$<$ \hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note} $>$ \hyperlink{group___song_pub_func_ga842675b7691fca074ee394031afc7675}{Song.\+Get\+All\+Notes} ()
\begin{DoxyCompactList}\small\item\em Returns a list of the \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
int \hyperlink{group___song_pub_func_gad124d0af146885327f8ac455bc013b63}{Song.\+Get\+Num\+Notes} ()
\begin{DoxyCompactList}\small\item\em Gets the number of \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
\hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{Song\+Type} \hyperlink{group___song_pub_func_gabae5b5d8f727b2d9da7867a99347f86b}{Song.\+Get\+Song\+Type} ()
\begin{DoxyCompactList}\small\item\em Gets the \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{type of song} that the \hyperlink{class_song}{Song} is. \end{DoxyCompactList}\item 
\hyperlink{group___music_structs_struct_music_1_1_time_signature}{Music.\+Time\+Signature} \hyperlink{group___song_pub_func_ga26315bb6d554d46e2eba2ac03ee70cc1}{Song.\+Get\+Time\+Signature} ()
\begin{DoxyCompactList}\small\item\em Gets the \hyperlink{group___music_structs_struct_music_1_1_time_signature}{time signature} of the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_ga856634e047b8c35160958c3aa53d6b28}{Song.\+Remove\+Note} (int a\+Index)
\begin{DoxyCompactList}\small\item\em Removes a note from the song. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_ga326d61c75339080057a02c6decb0cde3}{Song.\+Replace\+Note} (\hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note} a\+Note, int a\+Index)
\begin{DoxyCompactList}\small\item\em Replaces a note at a given index. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_gaa65bbba1af7192edff7e0f848029013b}{Song.\+Set\+B\+PM} (int a\+B\+PM)
\begin{DoxyCompactList}\small\item\em Sets the default \hyperlink{group___audio_DefBPM}{B\+PM} of the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_ga1efefe19fd0c5962f7f8ed16c65cd835}{Song.\+Set\+B\+PM} (float a\+B\+PM)
\begin{DoxyCompactList}\small\item\em Sets the default \hyperlink{group___audio_DefBPM}{B\+PM} of the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_gacb01510cf72657fc7c64bb6ba00c2c56}{Song.\+Set\+Name} (string a\+Song\+Name)
\begin{DoxyCompactList}\small\item\em Sets the \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{name} of the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_gaf9f2c7e6f4400f6f9854e68e70a49470}{Song.\+Set\+Time\+Signature} (\hyperlink{group___music_structs_struct_music_1_1_time_signature}{Music.\+Time\+Signature} a\+Time\+Signature)
\begin{DoxyCompactList}\small\item\em Sets the \hyperlink{group___music_structs_struct_music_1_1_time_signature}{time signature} of the \hyperlink{class_song}{Song}. \end{DoxyCompactList}\item 
void \hyperlink{group___song_pub_func_ga70b0f6021c3b0590c561a88e3d1e5c2f}{Song.\+Write\+Song\+To\+File} ()
\begin{DoxyCompactList}\small\item\em Writes the song to a file. The file will be stored in Streaming\+Assets/\+Songs/. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions that allow other classes to interact with the \hyperlink{class_song}{Song}. 

\subsection{Function Documentation}
\mbox{\Hypertarget{group___song_pub_func_gab7c8fe4dc29f5ae7b7728c583fe51f7e}\label{group___song_pub_func_gab7c8fe4dc29f5ae7b7728c583fe51f7e}} 
\index{Public Functions@{Public Functions}!Add\+Note@{Add\+Note}}
\index{Add\+Note@{Add\+Note}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Add\+Note()}{AddNote()}}
{\footnotesize\ttfamily void Song.\+Add\+Note (\begin{DoxyParamCaption}\item[{\hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note}}]{a\+New\+Note }\end{DoxyParamCaption})}



Adds a \hyperlink{group___music_structs_struct_music_1_1_combined_note}{note} to the \hyperlink{class_song}{Song}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+New\+Note} & The \hyperlink{group___music_structs_struct_music_1_1_combined_note}{note} to add. \\
\hline
\end{DoxyParams}


Definition at line 153 of file Song.\+cs.



References Song.\+m\+Highest\+Pitch, Song.\+m\+Lowest\+Pitch, Song.\+m\+Notes, and Song.\+Update\+Song\+Type().



Referenced by Song.\+Load\+Song\+From\+File(), and Song\+Creation\+Manager.\+On\+Create\+Note().


\begin{DoxyCode}
154     \{
155         \textcolor{comment}{// Update the number of musical notes in the song if needed.}
156         \textcolor{keywordflow}{if}( aNewNote.MusicalNote.Pitches != null )
157         \{
158             \hyperlink{group___song_priv_var_gaf55b4fd2df0457ba1306a75ac3fdc8b1}{mNumMusicalNotes}++;
159 
160             \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < aNewNote.MusicalNote.Pitches.Length; i++ )
161             \{
162                 \textcolor{comment}{// Update the highest pitch.}
163                 \textcolor{keywordflow}{if}( aNewNote.MusicalNote.Pitches[i] != \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.REST && 
      \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch} < aNewNote.MusicalNote.Pitches[i] )
164                 \{
165                     \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch} = aNewNote.MusicalNote.Pitches[i];
166                 \}
167 
168                 \textcolor{comment}{// Update the lowest pitch.}
169                 \textcolor{keywordflow}{if}( aNewNote.MusicalNote.Pitches[i] != \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.REST && 
      \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch} > aNewNote.MusicalNote.Pitches[i] )
170                 \{
171                     \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch} = aNewNote.MusicalNote.Pitches[i];
172                 \}
173             \}
174 
175         \}
176 
177         \textcolor{comment}{// Update the number of notes with drum hits in the song if needed.}
178         \textcolor{keywordflow}{if}( aNewNote.Drums.Hits != null )
179         \{
180             \hyperlink{group___song_priv_var_ga3dbce17d96b434d4492280c39cff1778}{mNumDrumNotes}++;
181         \}
182 
183         \textcolor{comment}{// Add the note to the list.}
184         \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Add( aNewNote );
185 
186         \textcolor{comment}{// Update the song type.}
187         \hyperlink{group___song_priv_func_ga9a1d6eba1576c3631d3c0331196d9ae2}{UpdateSongType}();
188     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga842675b7691fca074ee394031afc7675}\label{group___song_pub_func_ga842675b7691fca074ee394031afc7675}} 
\index{Public Functions@{Public Functions}!Get\+All\+Notes@{Get\+All\+Notes}}
\index{Get\+All\+Notes@{Get\+All\+Notes}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+All\+Notes()}{GetAllNotes()}}
{\footnotesize\ttfamily List$<$\hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note}$>$ Song.\+Get\+All\+Notes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns a list of the \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}. 

\begin{DoxyReturn}{Returns}
A list of the \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}. 
\end{DoxyReturn}


Definition at line 294 of file Song.\+cs.



References Song.\+m\+Notes.



Referenced by Song\+Creation\+Manager.\+On\+Load\+Song(), and Song\+Creation\+Manager.\+On\+Save\+Song().


\begin{DoxyCode}
295     \{
296         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes};
297     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gaaaf3d27d474713d7d368e3fd4c570be0}\label{group___song_pub_func_gaaaf3d27d474713d7d368e3fd4c570be0}} 
\index{Public Functions@{Public Functions}!Get\+B\+PM@{Get\+B\+PM}}
\index{Get\+B\+PM@{Get\+B\+PM}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+B\+P\+M()}{GetBPM()}}
{\footnotesize\ttfamily int Song.\+Get\+B\+PM (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the B\+PM of the song. 

\begin{DoxyReturn}{Returns}
The B\+PM of the song as an integer. 
\end{DoxyReturn}


Definition at line 194 of file Song.\+cs.



References Song.\+m\+B\+PM.



Referenced by A\+T\+I\+\_\+\+Diagnostics\+Demo\+Song\+Handler.\+Load\+Demo\+Song(), A\+T\+I\+\_\+\+Demo\+Song\+Button\+Handler.\+Load\+Demo\+Song(), A\+T\+I\+\_\+\+Diagnostics\+Demo\+Song\+Handler.\+Start(), and A\+T\+I\+\_\+\+Demo\+Song\+Button\+Handler.\+Start().


\begin{DoxyCode}
195     \{
196         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga3341fbbd9c0c58fe6514623e6b6c5a1e}{mBPM};
197     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gafaa104e8653edf64148260ecd400570f}\label{group___song_pub_func_gafaa104e8653edf64148260ecd400570f}} 
\index{Public Functions@{Public Functions}!Get\+Highest\+Pitch@{Get\+Highest\+Pitch}}
\index{Get\+Highest\+Pitch@{Get\+Highest\+Pitch}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Highest\+Pitch()}{GetHighestPitch()}}
{\footnotesize\ttfamily \hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{Music.\+P\+I\+T\+CH} Song.\+Get\+Highest\+Pitch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the highest pitch in the song. 

\begin{DoxyReturn}{Returns}
The highest pitch in the song 
\end{DoxyReturn}


Definition at line 203 of file Song.\+cs.



References Song.\+m\+Highest\+Pitch.



Referenced by Key\+Container.\+Handle\+Play\+Song\+Event().


\begin{DoxyCode}
204     \{
205         Assert.IsTrue( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.Empty && \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != 
      \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.DrumLoop,
206             \textcolor{stringliteral}{"Tried to get information about pitches in a song that had no pitches!"} );
207 
208         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch};
209     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gae4e71c8eb059cc9cf0b77e78971ab326}\label{group___song_pub_func_gae4e71c8eb059cc9cf0b77e78971ab326}} 
\index{Public Functions@{Public Functions}!Get\+Lowest\+Pitch@{Get\+Lowest\+Pitch}}
\index{Get\+Lowest\+Pitch@{Get\+Lowest\+Pitch}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Lowest\+Pitch()}{GetLowestPitch()}}
{\footnotesize\ttfamily \hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{Music.\+P\+I\+T\+CH} Song.\+Get\+Lowest\+Pitch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the lowest pitch in the song. 

\begin{DoxyReturn}{Returns}
The lowest pitch in the song 
\end{DoxyReturn}


Definition at line 215 of file Song.\+cs.



References Song.\+m\+Lowest\+Pitch.



Referenced by Key\+Container.\+Handle\+Play\+Song\+Event().


\begin{DoxyCode}
216     \{
217         Assert.IsTrue( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.Empty && \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != 
      \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.DrumLoop,
218             \textcolor{stringliteral}{"Tried to get information about pitches in a song that had no pitches!"} );
219 
220         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch};
221     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga705c433f2bfb5aede337698144b23c8b}\label{group___song_pub_func_ga705c433f2bfb5aede337698144b23c8b}} 
\index{Public Functions@{Public Functions}!Get\+Name@{Get\+Name}}
\index{Get\+Name@{Get\+Name}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Name()}{GetName()}}
{\footnotesize\ttfamily string Song.\+Get\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the name of the song. 

\begin{DoxyReturn}{Returns}
The name of the song as a string. 
\end{DoxyReturn}


Definition at line 227 of file Song.\+cs.



References Song.\+m\+Name.



Referenced by Song\+Manager\+Class.\+Add\+Song(), and Song\+Manager\+Class.\+Load\+Songs().


\begin{DoxyCode}
228     \{
229         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{mName};
230     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga485c83c9278103fed23c532bba1252f0}\label{group___song_pub_func_ga485c83c9278103fed23c532bba1252f0}} 
\index{Public Functions@{Public Functions}!Get\+Note@{Get\+Note}}
\index{Get\+Note@{Get\+Note}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Note()}{GetNote()}}
{\footnotesize\ttfamily \hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note} Song.\+Get\+Note (\begin{DoxyParamCaption}\item[{int}]{a\+Index }\end{DoxyParamCaption})}



Gets a \hyperlink{group___music_structs_struct_music_1_1_combined_note}{note} in the \hyperlink{class_song}{Song}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+Index} & The index of the note in the song. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The note at the specified index in the song. 
\end{DoxyReturn}


Definition at line 237 of file Song.\+cs.



References Song.\+m\+Notes.



Referenced by Song\+Creation\+Manager.\+On\+Edit\+Event().


\begin{DoxyCode}
238     \{
239         Assert.IsTrue( \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count > 0, \textcolor{stringliteral}{"Tried to get a note from an empty song!"} );
240         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[aIndex];
241     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gae3df1fd5448b7d9cefb0fed4af967985}\label{group___song_pub_func_gae3df1fd5448b7d9cefb0fed4af967985}} 
\index{Public Functions@{Public Functions}!Get\+Note\+Data@{Get\+Note\+Data}}
\index{Get\+Note\+Data@{Get\+Note\+Data}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Note\+Data()}{GetNoteData()}}
{\footnotesize\ttfamily \hyperlink{group___song_structs_struct_song_1_1_combined_note_data}{Combined\+Note\+Data} \mbox{[}$\,$\mbox{]} Song.\+Get\+Note\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Converts the \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the song to Note\+Data. 

\begin{DoxyReturn}{Returns}
An array of \hyperlink{group___song_structs_struct_song_1_1_combined_note_data}{note data} representing the \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}.
\end{DoxyReturn}
This function is used to convert the \hyperlink{class_song}{Song}\textquotesingle{}s \hyperlink{group___music_structs_struct_music_1_1_combined_note}{abstract information} which is based around musical notation into \hyperlink{group___song_structs_struct_song_1_1_combined_note_data}{specific information} that can be used to map it to audio data and waveform samples.

\begin{DoxySeeAlso}{See also}
\hyperlink{group___v_i_m_handlers_ga7fd877a7d429403abbfd2728aa63c056}{Virtual\+Instrument\+Manager\+::\+On\+Play\+Song\+Event} \hyperlink{group___v_i_m_handlers_gae2e2010b9a36ae2409466181ae0b9679}{Virtual\+Instrument\+Manager\+::\+On\+Play\+Drum\+Loop\+Event} \hyperlink{group___n_o_o_handlers_gaafd22f8a8c8d2cf101a54a4bf92782a5}{Note\+Output\+Object\+::\+On\+Audio\+Filter\+Read} 
\end{DoxySeeAlso}


Definition at line 253 of file Song.\+cs.



References Song.\+Get\+Note\+Length\+In\+Samples(), Song.\+Percussion\+Data.\+Has\+Hi\+Hat, Song.\+Percussion\+Data.\+Hits, Song.\+Combined\+Note\+Data.\+Melody\+Data, Song.\+m\+Notes, Song.\+m\+Time\+Signature, Song.\+Melody\+Note\+Data.\+Num\+Samples, Song.\+Combined\+Note\+Data.\+Percussion\+Data, Song.\+Melody\+Note\+Data.\+Pitches, Song.\+Combined\+Note\+Data.\+Total\+Offset, Song.\+Percussion\+Data.\+Velocity, and Song.\+Melody\+Note\+Data.\+Velocity.



Referenced by Key\+Container.\+Handle\+Play\+Song\+Event(), Virtual\+Instrument\+Manager.\+On\+Play\+Drum\+Loop\+Event(), and Virtual\+Instrument\+Manager.\+On\+Play\+Song\+Event().


\begin{DoxyCode}
254     \{
255         \textcolor{comment}{// Allocate the returned array.}
256         CombinedNoteData[] returned = \textcolor{keyword}{new} CombinedNoteData[\hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count];
257 
258         \textcolor{comment}{// Set up variables to keep track of a note's number of samples and total offset.}
259         \textcolor{keywordtype}{int} offset = 0;
260         \textcolor{keywordtype}{int} numSamp = 0;
261 
262         \textcolor{comment}{// Iterate through each note in the list.}
263         \textcolor{keywordtype}{int} index = 0;
264         \textcolor{keywordflow}{foreach}( \hyperlink{class_music}{Music}.\hyperlink{group___music_structs_struct_music_1_1_combined_note}{CombinedNote} note in \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes} )
265         \{
266             \textcolor{comment}{// Get the number of samples and the total offset for the note.}
267             numSamp = \hyperlink{group___song_stat_func_ga03712f6defbff25d5a1cd964e4bc3211}{GetNoteLengthInSamples}( \hyperlink{group___song_priv_var_ga3341fbbd9c0c58fe6514623e6b6c5a1e}{mBPM}, 44100, note.MusicalNote.
      Length, \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature} );
268             offset += \hyperlink{group___song_stat_func_ga03712f6defbff25d5a1cd964e4bc3211}{GetNoteLengthInSamples}( \hyperlink{group___song_priv_var_ga3341fbbd9c0c58fe6514623e6b6c5a1e}{mBPM}, 44100, note.
      OffsetFromPrevNote, \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature} );
269 
270             \textcolor{comment}{// Set the values for the NoteData's MelodyData.}
271             returned[index].MelodyData.NumSamples = numSamp;
272             returned[index].MelodyData.Pitches = note.MusicalNote.Pitches;
273             returned[index].MelodyData.Velocity = note.MusicalNote.Velocity;
274 
275             \textcolor{comment}{// Set the values for the NoteData's PercussionData.}
276             returned[index].PercussionData.Velocity = note.Drums.Velocity;
277             returned[index].PercussionData.Hits = note.Drums.Hits;
278             returned[index].PercussionData.HasHiHat = note.Drums.HasHiHat;
279 
280             \textcolor{comment}{// Set the offset for the NoteData.}
281             returned[index].TotalOffset = offset;
282 
283             \textcolor{comment}{// Go to the next note.}
284             index++;
285         \}
286 
287         \textcolor{keywordflow}{return} returned;
288     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gad124d0af146885327f8ac455bc013b63}\label{group___song_pub_func_gad124d0af146885327f8ac455bc013b63}} 
\index{Public Functions@{Public Functions}!Get\+Num\+Notes@{Get\+Num\+Notes}}
\index{Get\+Num\+Notes@{Get\+Num\+Notes}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Num\+Notes()}{GetNumNotes()}}
{\footnotesize\ttfamily int Song.\+Get\+Num\+Notes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the number of \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}. 

\begin{DoxyReturn}{Returns}
The number of \hyperlink{group___music_structs_struct_music_1_1_combined_note}{notes} in the \hyperlink{class_song}{Song}. 
\end{DoxyReturn}


Definition at line 303 of file Song.\+cs.



References Song.\+m\+Notes.



Referenced by Song\+Creation\+Manager.\+On\+Create\+Note(), and Song\+Creation\+Manager.\+On\+Remove\+Note().


\begin{DoxyCode}
304     \{
305         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count;
306     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gabae5b5d8f727b2d9da7867a99347f86b}\label{group___song_pub_func_gabae5b5d8f727b2d9da7867a99347f86b}} 
\index{Public Functions@{Public Functions}!Get\+Song\+Type@{Get\+Song\+Type}}
\index{Get\+Song\+Type@{Get\+Song\+Type}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Song\+Type()}{GetSongType()}}
{\footnotesize\ttfamily \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{Song\+Type} Song.\+Get\+Song\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{type of song} that the \hyperlink{class_song}{Song} is. 

\begin{DoxyReturn}{Returns}
The \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{type of song} that the \hyperlink{class_song}{Song} is. 
\end{DoxyReturn}


Definition at line 312 of file Song.\+cs.



References Song.\+m\+Type.



Referenced by Song\+Manager\+Class.\+Add\+Song(), Virtual\+Instrument\+Manager.\+On\+Play\+Song\+Event(), and Song\+Creation\+Manager.\+On\+Save\+Song().


\begin{DoxyCode}
313     \{
314         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType};
315     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga26315bb6d554d46e2eba2ac03ee70cc1}\label{group___song_pub_func_ga26315bb6d554d46e2eba2ac03ee70cc1}} 
\index{Public Functions@{Public Functions}!Get\+Time\+Signature@{Get\+Time\+Signature}}
\index{Get\+Time\+Signature@{Get\+Time\+Signature}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Get\+Time\+Signature()}{GetTimeSignature()}}
{\footnotesize\ttfamily \hyperlink{group___music_structs_struct_music_1_1_time_signature}{Music.\+Time\+Signature} Song.\+Get\+Time\+Signature (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the \hyperlink{group___music_structs_struct_music_1_1_time_signature}{time signature} of the \hyperlink{class_song}{Song}. 

\begin{DoxyReturn}{Returns}
The \hyperlink{group___music_structs_struct_music_1_1_time_signature}{time signature} of the \hyperlink{class_song}{Song}. 
\end{DoxyReturn}


Definition at line 321 of file Song.\+cs.



References Song.\+m\+Time\+Signature.


\begin{DoxyCode}
322     \{
323         \textcolor{keywordflow}{return} \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature};
324     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga856634e047b8c35160958c3aa53d6b28}\label{group___song_pub_func_ga856634e047b8c35160958c3aa53d6b28}} 
\index{Public Functions@{Public Functions}!Remove\+Note@{Remove\+Note}}
\index{Remove\+Note@{Remove\+Note}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Remove\+Note()}{RemoveNote()}}
{\footnotesize\ttfamily void Song.\+Remove\+Note (\begin{DoxyParamCaption}\item[{int}]{a\+Index }\end{DoxyParamCaption})}



Removes a note from the song. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+Index} & The index of the note to remove. \\
\hline
\end{DoxyParams}


Definition at line 330 of file Song.\+cs.



References Song.\+m\+Highest\+Pitch, Song.\+m\+Lowest\+Pitch, Song.\+m\+Notes, Song.\+Search\+For\+Highest\+Pitch(), Song.\+Search\+For\+Lowest\+Pitch(), and Song.\+Update\+Song\+Type().



Referenced by Song\+Creation\+Manager.\+On\+Remove\+Note().


\begin{DoxyCode}
331     \{
332         Assert.IsTrue( aIndex < \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count,
333             \textcolor{stringliteral}{"Tried to remove a note at the index "} + aIndex.ToString() + \textcolor{stringliteral}{" from a song with only "} + 
      \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count.ToString() + \textcolor{stringliteral}{" notes in it!"} );
334 
335         \textcolor{comment}{// Get the note to be removed.}
336         \hyperlink{class_music}{Music}.\hyperlink{group___music_structs_struct_music_1_1_combined_note}{CombinedNote} removedNote = \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[aIndex];
337 
338         \textcolor{comment}{// Remove the note.}
339         \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.RemoveAt( aIndex );
340 
341         \textcolor{comment}{// Update information about the pitches in the song..}
342         \textcolor{keywordflow}{if}( removedNote.MusicalNote.Pitches != null )
343         \{
344             \textcolor{comment}{// Decrease the number of musical notes.}
345             \hyperlink{group___song_priv_var_gaf55b4fd2df0457ba1306a75ac3fdc8b1}{mNumMusicalNotes}--;
346 
347             \textcolor{comment}{// See if we need to set a new highest/lowest pitch.}
348             \textcolor{keywordflow}{foreach}( \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH} pitch in removedNote.MusicalNote.Pitches )
349             \{
350                 \textcolor{keywordflow}{if}( pitch != \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.REST && pitch == 
      \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch} )
351                 \{
352                     \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch} = \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.C0;
353                     \hyperlink{group___song_priv_func_ga5f837e6b7f576732fa38747caa057621}{SearchForHighestPitch}();
354                 \}
355                 \textcolor{keywordflow}{if}( pitch != \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.REST && pitch == \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch} )
356                 \{
357                     \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch} = \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.B9;
358                     \hyperlink{group___song_priv_func_gac2e812c6385529eb7a9be5082c7bde75}{SearchForLowestPitch}();
359                 \}
360             \}
361         \}
362 
363         \textcolor{comment}{// Update information about the drums in the song.}
364         \textcolor{keywordflow}{if}( removedNote.Drums.Hits != null )
365         \{
366             \hyperlink{group___song_priv_var_ga3dbce17d96b434d4492280c39cff1778}{mNumDrumNotes}--;
367         \}
368 
369         \textcolor{comment}{// Update the song type.}
370         \hyperlink{group___song_priv_func_ga9a1d6eba1576c3631d3c0331196d9ae2}{UpdateSongType}();
371 
372         \textcolor{comment}{// Clean up.}
373         GC.Collect();
374         Resources.UnloadUnusedAssets();
375     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga326d61c75339080057a02c6decb0cde3}\label{group___song_pub_func_ga326d61c75339080057a02c6decb0cde3}} 
\index{Public Functions@{Public Functions}!Replace\+Note@{Replace\+Note}}
\index{Replace\+Note@{Replace\+Note}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Replace\+Note()}{ReplaceNote()}}
{\footnotesize\ttfamily void Song.\+Replace\+Note (\begin{DoxyParamCaption}\item[{\hyperlink{group___music_structs_struct_music_1_1_combined_note}{Music.\+Combined\+Note}}]{a\+Note,  }\item[{int}]{a\+Index }\end{DoxyParamCaption})}



Replaces a note at a given index. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+Note} & The note that will be put into the song at the given index. \\
\hline
\mbox{\tt in}  & {\em a\+Index} & The index of the place to insert the note. \\
\hline
\end{DoxyParams}


Definition at line 382 of file Song.\+cs.



References Song.\+m\+Highest\+Pitch, Song.\+m\+Lowest\+Pitch, Song.\+m\+Notes, Song.\+Search\+For\+Highest\+Pitch(), Song.\+Search\+For\+Lowest\+Pitch(), and Song.\+Update\+Song\+Type().



Referenced by Song\+Creation\+Manager.\+On\+Modify\+Note(), and Song\+Creation\+Manager.\+On\+Save\+Song().


\begin{DoxyCode}
383     \{
384         Assert.IsTrue( aIndex < \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count,
385              \textcolor{stringliteral}{"Tried to replace a note at the index "} + aIndex.ToString() + \textcolor{stringliteral}{" for a song with only "} + 
      \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count.ToString() + \textcolor{stringliteral}{" notes in it!"} );
386 
387         \textcolor{comment}{// Get the replaced note.}
388         \hyperlink{class_music}{Music}.\hyperlink{group___music_structs_struct_music_1_1_combined_note}{CombinedNote} replacedNote = \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[aIndex];
389 
390         \textcolor{comment}{// Replace the note.}
391         \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[aIndex] = aNote;
392 
393         \textcolor{comment}{// See if we need to update the highest/lowest pitch.}
394         \textcolor{keywordflow}{if}( replacedNote.MusicalNote.Pitches != null )
395         \{
396             \textcolor{comment}{// Decrease the number of musical notes.}
397             \hyperlink{group___song_priv_var_gaf55b4fd2df0457ba1306a75ac3fdc8b1}{mNumMusicalNotes}--;
398 
399             \textcolor{comment}{// See if we need to set a new highest/lowest pitch.}
400             \textcolor{keywordflow}{foreach}( \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH} pitch in replacedNote.MusicalNote.Pitches )
401             \{
402                 \textcolor{keywordflow}{if}( pitch != \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.REST && pitch == 
      \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch} )
403                 \{
404                     \hyperlink{group___song_priv_var_ga2dcd39d9add609e9df56a94057441dcc}{mHighestPitch} = \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.C0;
405                     \hyperlink{group___song_priv_func_ga5f837e6b7f576732fa38747caa057621}{SearchForHighestPitch}();
406                 \}
407                 \textcolor{keywordflow}{if}( pitch != \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.REST && pitch == \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch} )
408                 \{
409                     \hyperlink{group___song_priv_var_ga293976ef4c2050687a81edfbf77b4fc1}{mLowestPitch} = \hyperlink{class_music}{Music}.\hyperlink{group___music_enums_ga508f69b199ea518f935486c990edac1d}{PITCH}.B9;
410                     \hyperlink{group___song_priv_func_gac2e812c6385529eb7a9be5082c7bde75}{SearchForLowestPitch}();
411                 \}
412             \}
413         \}
414 
415         \textcolor{comment}{// Account for changes in the number of musical notes and drum notes in the song.}
416         \textcolor{keywordflow}{if}( replacedNote.MusicalNote.Pitches != null && aNote.MusicalNote.Pitches == null )
417         \{
418             \hyperlink{group___song_priv_var_gaf55b4fd2df0457ba1306a75ac3fdc8b1}{mNumMusicalNotes}--;
419         \}
420         \textcolor{keywordflow}{if}( replacedNote.Drums.Hits != null && aNote.Drums.Hits == null )
421         \{
422             \hyperlink{group___song_priv_var_ga3dbce17d96b434d4492280c39cff1778}{mNumDrumNotes}--;
423         \}
424 
425         \textcolor{comment}{// Update the song type.}
426         \hyperlink{group___song_priv_func_ga9a1d6eba1576c3631d3c0331196d9ae2}{UpdateSongType}();
427     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gaa65bbba1af7192edff7e0f848029013b}\label{group___song_pub_func_gaa65bbba1af7192edff7e0f848029013b}} 
\index{Public Functions@{Public Functions}!Set\+B\+PM@{Set\+B\+PM}}
\index{Set\+B\+PM@{Set\+B\+PM}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Set\+B\+P\+M()}{SetBPM()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Song.\+Set\+B\+PM (\begin{DoxyParamCaption}\item[{int}]{a\+B\+PM }\end{DoxyParamCaption})}



Sets the default \hyperlink{group___audio_DefBPM}{B\+PM} of the \hyperlink{class_song}{Song}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+B\+PM} & The new default \hyperlink{group___audio_DefBPM}{B\+PM} of the \hyperlink{class_song}{Song}. \\
\hline
\end{DoxyParams}


Definition at line 433 of file Song.\+cs.



Referenced by A\+T\+I\+\_\+\+Diagnostics\+Demo\+Song\+Handler.\+Change\+B\+P\+M(), A\+T\+I\+\_\+\+Demo\+Song\+Button\+Handler.\+Change\+B\+P\+M(), and Song\+Creation\+Manager.\+On\+B\+P\+M\+Change().


\begin{DoxyCode}
434     \{
435         \hyperlink{group___song_priv_var_ga3341fbbd9c0c58fe6514623e6b6c5a1e}{mBPM} = aBPM;
436     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga1efefe19fd0c5962f7f8ed16c65cd835}\label{group___song_pub_func_ga1efefe19fd0c5962f7f8ed16c65cd835}} 
\index{Public Functions@{Public Functions}!Set\+B\+PM@{Set\+B\+PM}}
\index{Set\+B\+PM@{Set\+B\+PM}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Set\+B\+P\+M()}{SetBPM()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Song.\+Set\+B\+PM (\begin{DoxyParamCaption}\item[{float}]{a\+B\+PM }\end{DoxyParamCaption})}



Sets the default \hyperlink{group___audio_DefBPM}{B\+PM} of the \hyperlink{class_song}{Song}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+B\+PM} & The new default \hyperlink{group___audio_DefBPM}{B\+PM} of the \hyperlink{class_song}{Song}. \\
\hline
\end{DoxyParams}


Definition at line 442 of file Song.\+cs.


\begin{DoxyCode}
443     \{
444         \hyperlink{group___song_priv_var_ga3341fbbd9c0c58fe6514623e6b6c5a1e}{mBPM} = (int)aBPM;
445     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gacb01510cf72657fc7c64bb6ba00c2c56}\label{group___song_pub_func_gacb01510cf72657fc7c64bb6ba00c2c56}} 
\index{Public Functions@{Public Functions}!Set\+Name@{Set\+Name}}
\index{Set\+Name@{Set\+Name}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Set\+Name()}{SetName()}}
{\footnotesize\ttfamily void Song.\+Set\+Name (\begin{DoxyParamCaption}\item[{string}]{a\+Song\+Name }\end{DoxyParamCaption})}



Sets the \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{name} of the \hyperlink{class_song}{Song}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+Song\+Name} & The \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{name} of the \hyperlink{class_song}{Song}. \\
\hline
\end{DoxyParams}


Definition at line 451 of file Song.\+cs.



Referenced by Song\+Creation\+Manager.\+Awake().


\begin{DoxyCode}
452     \{
453         \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{mName} = aSongName;
454     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_gaf9f2c7e6f4400f6f9854e68e70a49470}\label{group___song_pub_func_gaf9f2c7e6f4400f6f9854e68e70a49470}} 
\index{Public Functions@{Public Functions}!Set\+Time\+Signature@{Set\+Time\+Signature}}
\index{Set\+Time\+Signature@{Set\+Time\+Signature}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Set\+Time\+Signature()}{SetTimeSignature()}}
{\footnotesize\ttfamily void Song.\+Set\+Time\+Signature (\begin{DoxyParamCaption}\item[{\hyperlink{group___music_structs_struct_music_1_1_time_signature}{Music.\+Time\+Signature}}]{a\+Time\+Signature }\end{DoxyParamCaption})}



Sets the \hyperlink{group___music_structs_struct_music_1_1_time_signature}{time signature} of the \hyperlink{class_song}{Song}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em a\+Time\+Signature} & The \hyperlink{group___music_structs_struct_music_1_1_time_signature}{time signature} of the \hyperlink{class_song}{Song}. \\
\hline
\end{DoxyParams}


Definition at line 460 of file Song.\+cs.



References Song.\+m\+Time\+Signature.


\begin{DoxyCode}
461     \{
462         \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature}.BeatsPerMeasure = aTimeSignature.BeatsPerMeasure;
463         \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature}.BaseBeat = aTimeSignature.BaseBeat;
464     \}
\end{DoxyCode}
\mbox{\Hypertarget{group___song_pub_func_ga70b0f6021c3b0590c561a88e3d1e5c2f}\label{group___song_pub_func_ga70b0f6021c3b0590c561a88e3d1e5c2f}} 
\index{Public Functions@{Public Functions}!Write\+Song\+To\+File@{Write\+Song\+To\+File}}
\index{Write\+Song\+To\+File@{Write\+Song\+To\+File}!Public Functions@{Public Functions}}
\subsubsection{\texorpdfstring{Write\+Song\+To\+File()}{WriteSongToFile()}}
{\footnotesize\ttfamily void Song.\+Write\+Song\+To\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Writes the song to a file. The file will be stored in Streaming\+Assets/\+Songs/. 

\begin{DoxySeeAlso}{See also}
\hyperlink{group___song_group_DocSongFileFormat}{Song File Format} 
\end{DoxySeeAlso}


Definition at line 470 of file Song.\+cs.



References Song.\+m\+Name, Song.\+m\+Notes, Song.\+m\+Time\+Signature, and Song.\+S\+O\+N\+G\+\_\+\+F\+I\+L\+E\+\_\+\+P\+A\+TH.



Referenced by Song\+Creation\+Manager.\+On\+Save\+Song().


\begin{DoxyCode}
471     \{
472         \textcolor{comment}{// Set up the filepath.}
473         \textcolor{keywordtype}{string} filepath = \hyperlink{group___song_const_ga95247572cf734f9e8b35973de4eeb1a4}{SONG\_FILE\_PATH};
474         \textcolor{keywordflow}{switch}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} )
475         \{
476             \textcolor{keywordflow}{case} \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.DrumLoop:
477                 filepath += \textcolor{stringliteral}{"DRUMLOOP\_"} + \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{mName} + \textcolor{stringliteral}{".song"};
478                 \textcolor{keywordflow}{break};
479             \textcolor{keywordflow}{case} \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.Melody:
480                 filepath += \textcolor{stringliteral}{"MELODY\_"} + \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{mName} + \textcolor{stringliteral}{".song"};
481                 \textcolor{keywordflow}{break};
482             \textcolor{keywordflow}{case} \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.CombinedMelodyAndPercussion:
483                 filepath += \textcolor{stringliteral}{"SONG\_"} + \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{mName} + \textcolor{stringliteral}{".song"};
484                 \textcolor{keywordflow}{break};
485             \textcolor{keywordflow}{default}:
486                 \textcolor{keywordflow}{break};
487         \}
488 
489         \textcolor{comment}{// Set an array for the contents of the file}
490         \textcolor{keywordtype}{string}[] contents = \textcolor{keyword}{new} \textcolor{keywordtype}{string}[\hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count + 2];
491 
492         \textcolor{comment}{// Put the name of the song in first line to be saved.}
493         contents[0] = \hyperlink{group___song_priv_var_ga6a5e6c1e4aa92939e2b5c1e3d9908df8}{mName};
494 
495         \textcolor{comment}{// Put the song type, default BPM and the time signature values in the second line to be saved.}
496         contents[1] = ( (int)\hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} ).ToString() + \textcolor{stringliteral}{";"} + \hyperlink{group___song_priv_var_ga3341fbbd9c0c58fe6514623e6b6c5a1e}{mBPM}.ToString() + \textcolor{stringliteral}{";"} +
497             \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature}.BeatsPerMeasure.ToString() + \textcolor{stringliteral}{";"} + ( (int)
      \hyperlink{group___song_priv_var_ga2b2dcc0e83e49f7303b6a1371877b25e}{mTimeSignature}.BaseBeat ).ToString();
498 
499         \textcolor{comment}{// Put all the notes into the lines from line 3 to line [numNotes].  }
500         \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}.Count; i++ )
501         \{
502             \textcolor{comment}{// Set up the note string.}
503             contents[i + 2] = \textcolor{stringliteral}{""};
504 
505             \textcolor{comment}{// If pitches exist for the song, then add them.}
506             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.DrumLoop )
507             \{
508                 \textcolor{comment}{// Add the pitches if they exist for this note.}
509                 \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].MusicalNote.Pitches != null )
510                 \{
511                     \textcolor{comment}{// Add the pitches to the string}
512                     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} j = 0; j < \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].MusicalNote.Pitches.Length; j++ )
513                     \{
514                         contents[i + 2] += ( (int)\hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].MusicalNote.Pitches[j] ).ToString();
515 
516                         \textcolor{comment}{// If this is not the last pitch of the note, then add a comma}
517                         \textcolor{keywordflow}{if}( j + 1 != \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].MusicalNote.Pitches.Length )
518                         \{
519                             contents[i + 2] += \textcolor{stringliteral}{","};
520                         \}
521                         \textcolor{comment}{// If this is the last pitch of the note, then add a bar or a semicolon depending
       on if there are drums.}
522                         \textcolor{keywordflow}{else}
523                         \{
524                             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} == \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.CombinedMelodyAndPercussion )
525                             \{
526                                 contents[i + 2] += \textcolor{stringliteral}{"|"};
527                             \}
528                             \textcolor{keywordflow}{else}
529                             \{
530                                 contents[i + 2] += \textcolor{stringliteral}{";"};
531                             \}
532                         \}
533                     \}
534                 \}
535                 \textcolor{comment}{// If pitches don't exist for the note, then put null.}
536                 \textcolor{keywordflow}{else}
537                 \{
538                     contents[i + 2] += \textcolor{stringliteral}{"null|"};
539                 \}
540             \}
541 
542             \textcolor{comment}{// If drums exist for the song, then add them.}
543             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.Melody )
544             \{
545                 \textcolor{comment}{// If there are drums for this note, then add them. }
546                 \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].Drums.Hits != null )
547                 \{
548                     \textcolor{comment}{// Add the drums to the string}
549                     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} j = 0; j < \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].Drums.Hits.Length; j++ )
550                     \{
551                         contents[i + 2] += ( (int)\hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].Drums.Hits[j] ).ToString();
552 
553                         \textcolor{comment}{// If this is not the last drum hit of the note, then add a comma}
554                         \textcolor{keywordflow}{if}( j + 1 != \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].Drums.Hits.Length )
555                         \{
556                             contents[i + 2] += \textcolor{stringliteral}{","};
557                         \}
558                         \textcolor{comment}{// If this is the last pitch of the note, then add a semicolon.}
559                         \textcolor{keywordflow}{else}
560                         \{
561                             contents[i + 2] += \textcolor{stringliteral}{";"};
562                         \}
563                     \}
564                 \}
565             \}
566 
567             \textcolor{comment}{// If the song is not a drum loop, then add the note length.}
568             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.DrumLoop )
569             \{
570                 contents[i + 2] += ( ( (int)\hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].MusicalNote.Length ).ToString() + \textcolor{stringliteral}{";"} );
571             \}
572 
573             \textcolor{comment}{// Add the offset from the previous note.}
574             contents[i + 2] += ( ( (int)\hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].OffsetFromPrevNote ).ToString() + \textcolor{stringliteral}{";"} );
575 
576             \textcolor{comment}{// If the song is not a drum loop, then add the musical note velocity.}
577             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.DrumLoop )
578             \{
579                 contents[i + 2] += \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].MusicalNote.Velocity.ToString();
580             \}
581 
582             \textcolor{comment}{// Put a bar if both drums and pitches exist for the song.}
583             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} == \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.CombinedMelodyAndPercussion )
584             \{
585                 contents[i + 2] += \textcolor{stringliteral}{"|"};
586             \}
587 
588             \textcolor{comment}{// If the song has drums, then put the velocity for the drums for this note.}
589             \textcolor{keywordflow}{if}( \hyperlink{group___song_priv_var_gaf3b9d0f461522324f897b746311b43c5}{mType} != \hyperlink{group___song_enums_gae681a1f001333e39fc1cb4fea97bfe1b}{SongType}.Melody )
590             \{
591                 contents[i + 2] += \hyperlink{group___song_priv_var_ga674bc904a1f856d485d5fb7fe84bac85}{mNotes}[i].Drums.Velocity;
592             \}
593 
594         \}
595 
596         \textcolor{comment}{// Write the contents to the file.}
597         \hyperlink{namespace_system}{System}.IO.File.WriteAllLines( filepath, contents );
598     \}
\end{DoxyCode}
